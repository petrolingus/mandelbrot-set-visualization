# Научная работа

## Исходный код проекта



## Описание компонентов

В качестве интенсивно вычислительной задачи используется генерация визуализации множества Мандельброта. Такая задача очень удобна тем, что она обладает свойством чрезвыйчайной параллельности (Embarrassingly parallel), это значит что каждая точка множества не зависит от других точек и может вычисляться параллельно.

Тогда для того, чтобы выполнить генерацию изображения быстрее можно разбить его на сегменты (чанки) меньшего размера чем исходное и выполнять генерацию этих сегментов параллельно на нескольких обработчиках.

На основе этих данных можно выделить два компонента:

1. Пользовательский интерфейс (user interface, ui)
2. Обрабочик (process-service)

### Пользовательский интерфейс

Пользовательский интерфейс представляет из себя обычную HTML страницу в которую встроен JS (java script) код.

Задача этого компонента состоит в том, чтобы принять параметры для генерации множества Мандельброта от пользователя и выполнить отправку запросов в обработчики.

Параметры от пользователя можно принять, например, с помощью URL-параметров:

```txt
index.html?size=512&xc=-1&yc=0&scale=2&iterations=128&subdivision=1
```

Рассмотрим список параметров, которые доступны для пользователя:

* size - размер изображения множества Мандельброта в пикселях
* xc, yc - координаты ценстра изображения в комплексном простанстве
* scale - масштаб (зум) изображения
* iterations - количество проверок вхождения точки в множество Мандельброта
* subdivision - количество разбиений изображения на чанки

На основе этих параметров форируется список запросов, которые параллельно отправляются обработчикам.

### Обработчик

Обработчик является Web-приложением, написанным на языке Java. Его задача состоит в том, чтобы сгенерировать сегмент изображения.

Обработчик, как и пользовательский интерфейс, принимает URL-параметры, однако, в отличии от последнего, генерирует изображение и возвращает его обратно в виде HTTP ответа (http response).


## Архитектура

Для взаимодействия пользователского интерфейса с обработчиками можно прибегунть к разным подходам. Самый простой - использовать объект Kubernetes - Service.

Такая архитектура будет выглядить следующим образом:

<картинка>

## Ссылки
1. https://dev.to/bzon/nginx-ingress-load-balancing-and-retry-1008
2. https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/









